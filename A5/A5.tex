\documentclass[11pt letter]{article}

\usepackage[margin=0.7in]{geometry}
\usepackage{setspace}
\usepackage{nopageno}
\usepackage{amsmath}
\onehalfspacing
\usepackage{listings}
\lstset{
  basicstyle=\ttfamily,
  mathescape
}

\title{CS 381 - A5}
\author{Martin Mueller}
\date{Due: April $3^{rd}$}

\begin{document}
	\maketitle
	\begin{enumerate}
		\item Design a CFG $G$ with terminal symbols $\Sigma = \{ \texttt{(}, \texttt{)}, \texttt{[}, \texttt{]}, \texttt{\{}, \texttt{\}} \}$ that generates exactly the set of strings $w$, where $w$ satisfies the following conditions:
		\begin{itemize}
			\item $w$ is a string over $\Sigma^*$ where all/any (pairs of) parentheses, brackets and curly braces are balanced,
			\item all/any parentheses are contained within brackets (if present), or, in the absence of brackets, all/any parentheses are contained within curly braces (if present),
			\item and all/any brackets are contained within curly braces (if present).
		\end{itemize}
		Note that strings in $L(G)$ need not contain parentheses, brackets and braces.  For example, a string in $L(G)$ could contain just braces and parentheses. We will assume that $\lambda$ is in $L(G)$. Here is an example of string that \textbf{should be generated} by $G$: \\
		$\texttt{\{[()(())][()]\}\{\}}$ \\
		Notice how, in the previous string, balanced parentheses are contained within balanced brackets, which are contained within balanced braces. Also notice that curly braces are not contained within brackets or parentheses. Likewise, brackets are not contained within parentheses. \\
		Here are a couple of examples of strings that should \textbf{not} be generated by $G$: \\
		$\texttt{\{\}([])}$ \\
		$\texttt{\{[()]()\}}$ \\
		In the second string, there is a pair of parentheses that is not contained within brackets. Recall that brackets are not required to be present in every string generated by $G$, but if they are, then all parentheses must be contained within brackets. Obviously, any string in which the parentheses, brackets and/or braces are not balanced should not be generated by $G$. \\
		I haven't given you a formally precise definition of $L(G)$ (and I don't plan to do so), but hopefully you get the idea of exactly what strings are in $L(G)$.  Here are more strings that \textbf{should be generated} by $G$: \\
		$\texttt{[()][]}$ \\
		$\texttt{\{[]\}}$ \\
		$\texttt{()(()())}$ \\
		$\texttt{\{()\}}$ \\
		Here's what you need to do: \\
		\underline{First}, design such a CFG $G$, as described above. \\
		\underline{Then}, find an equivalent grammar $G'$ that has the same language as $G$, but $G'$ is in Chomsky Normal Form. Show how you find such a grammar $G'$. \\
		\underline{Finally}, implement and test a modified version of your grammar $G'$ in the Automata-Simulator, where in your modified grammar, curly braces should be replaced with angle brackets \texttt{<} and \texttt{>}. The reason for the modification is because the curly brace characters are reserved characters within the Automata-Simulator. Upload your grammar in the file \textbf{A5-1.cfg}. \\
		The syntax for implementing a CFG in the Automata-Simulator is pretty straightforward. Here is an example grammar: \\
		\begin{verbatim}
			S -> [S] | SS | ;
		\end{verbatim}
		In your \LaTeX\ write-up, give both $G$ and $G'$. Your grammar $G$ should be accompanied by a brief yet precise high-level explanation of how it works. 
	\end{enumerate}
	This grammar starts at {\tt S} and has 3 options for its next choice. Whatever it selects, it cannot go "back up the tree" so to speak. {\tt A} would start near the top of the tree, {\tt B} would be further down, and so on. This is so that the precedence rules of the language can be obeyed. This grammar also allows for an arbitrarily deep nested and/or chained structure of symbols while still obeying the rules of the language. Finally, the grammar also accepts the empty string.
    \begin{lstlisting}
        S $\rightarrow$ A | B | C
        A $\rightarrow$ {BA}A | {CA}A | $\lambda$
        B $\rightarrow$ [CB]B | $\lambda$
        C $\rightarrow$ (C)C | $\lambda$
    \end{lstlisting}
    Chomsky Normal Form Conversion: \\
    New Start Symbol
    \begin{lstlisting}
        S$_0$ $\rightarrow$ S
        S $\rightarrow$ A | B | C
        A $\rightarrow$ {BA}A | {CA}A | $\lambda$
        B $\rightarrow$ [CB]B | $\lambda$
        C $\rightarrow$ (C)C | $\lambda$
    \end{lstlisting}
    Eliminate $\lambda$-rules
    \begin{lstlisting}
        S$_0$ $\rightarrow$ S | $\lambda$
        S $\rightarrow$ A | B | C
        A $\rightarrow$ {BA}A | {CA}A | {A}A | {B} | {BA} | {B}A | {} | {CA} | {C}A | {C}
        B $\rightarrow$ [CB]B | [B]B | [C]B | [C] | []B | [] | [B]
        C $\rightarrow$ (C)C | (C) | ()C | ()
    \end{lstlisting}
    Eliminate unit rules
    \begin{lstlisting}
        S$_0$ $\rightarrow$ {BA}A | {CA}A | {A}A | {B} | {BA} | {B}A | {} | {CA} | {C}A | {C}
        | [CB]B | [B]B | [C]B | [C] | []B | [] | [B]
        | (C)C | (C) | ()C | ()
        | $\lambda$
        S $\rightarrow$ {BA}A | {CA}A | {A}A | {B} | {BA} | {B}A | {} | {CA} | {C}A | {C}
        | [CB]B | [B]B | [C]B | [C] | []B | [] | [B]
        | (C)C | (C) | ()C | ()
        A $\rightarrow$ {BA}A | {CA}A | {A}A | {B} | {BA} | {B}A | {} | {CA} | {C}A | {C}
        B $\rightarrow$ [CB]B | [B]B | [C]B | [C] | []B | [] | [B]
        C $\rightarrow$ (C)C | (C) | ()C | ()
    \end{lstlisting}
    Eliminate mixed rules
    \begin{lstlisting}
        S$_0$ $\rightarrow$ U$_0$BAU$_1$A | U$_0$CAU$_1$A | U$_0$AU$_1$A | U$_0$BU$_1$ | U$_0$BAU$_1$
        | U$_0$BU$_1$A | U$_0$U$_1$ | U$_0$CAU$_1$ | U$_0$CU$_1$A | U$_0$CU$_1$ | U$_2$CBU$_3$B
        | U$_2$BU$_3$B | U$_2$CU$_3$B | U$_2$CU$_3$ | U$_2$U$_3$B | U$_2$U$_3$ | U$_2$BU$_3$
        | U$_4$CU$_5$C | U$_4$CU$_5$ | U$_4$U$_5$C | U$_4$U$_5$
        | $\lambda$
        S $\rightarrow$ U$_0$BAU$_1$A | U$_0$CAU$_1$A | U$_0$AU$_1$A | U$_0$BU$_1$ | U$_0$BAU$_1$
        | U$_0$BU$_1$A | U$_0$U$_1$ | U$_0$CAU$_1$ | U$_0$CU$_1$A | U$_0$CU$_1$
        | U$_2$CBU$_3$B | U$_2$BU$_3$B | U$_2$CU$_3$B | U$_2$CU$_3$ | U$_2$U$_3$B | U$_2$U$_3$
        | U$_2$BU$_3$ | U$_4$CU$_5$C | U$_4$CU$_5$ | U$_4$U$_5$C | U$_4$U$_5$
        A $\rightarrow$ U$_0$BAU$_1$A | U$_0$CAU$_1$A | U$_0$AU$_1$A | U$_0$BU$_1$ | U$_0$BAU$_1$
        | U$_0$BU$_1$A | U$_0$U$_1$ | U$_0$CAU$_1$ | U$_0$CU$_1$A | U$_0$CU$_1$
        B $\rightarrow$ U$_2$CBU$_3$B | U$_2$BU$_3$B | U$_2$CU$_3$B | U$_2$CU$_3$
        | U$_2$U$_3$B | U$_2$U$_3$ | U$_2$BU$_3$
        C $\rightarrow$ U$_4$CU$_5$C | U$_4$CU$_5$ | U$_4$U$_5$C | U$_4$U$_5$
        U$_0$ $\rightarrow$ {
        U$_1$ $\rightarrow$ }
        U$_2$ $\rightarrow$ [
        U$_3$ $\rightarrow$ ]
        U$_4$ $\rightarrow$ (
        U$_5$ $\rightarrow$ )
    \end{lstlisting}
    Eliminate rules with more than 2 non-terminals
    \begin{lstlisting}
        S$_0$ $\rightarrow$ S$_1$S$_3$ | S$_4$S$_3$ | U$_0$S$_3$ | S$_1$U$_1$ | S$_1$S$_2$
        | S$_1$S$_5$ | U$_0$U$_1$ | S$_4$S$_2$ | S$_4$S$_5$ | S$_4$U$_1$ | S$_7$S$_8$
        | U$_2$S$_8$ | S$_7$S$_9$ | S$_7$U$_3$ | U$_2$S$_9$ | U$_2$U$_3$ | U$_2$S$_6$
        | S$_{11}$S$_{10}$ | S$_{11}$U$_5$ | U$_4$S$_{10}$ | U$_4$U$_5$
        | $\lambda$
        S $\rightarrow$ S$_1$S$_3$ | S$_4$S$_3$ | U$_0$S$_3$ | S$_1$U$_1$ | S$_1$S$_2$
        | S$_1$S$_5$ | U$_0$U$_1$ | S$_4$S$_2$ | S$_4$S$_5$ | S$_4$U$_1$
        | S$_7$S$_8$ | U$_2$S$_8$ | S$_7$S$_9$ | S$_7$U$_3$ | U$_2$S$_9$ | U$_2$U$_3$
        | U$_2$S$_6$ | S$_{11}$S$_{10}$ | S$_{11}$U$_5$ | U$_4$S$_{10}$ | U$_4$U$_5$
        A $\rightarrow$ S$_1$S$_3$ | S$_4$S$_3$ | U$_0$S$_3$ | S$_1$U$_1$ | S$_1$S$_2$
        | S$_1$S$_5$ | U$_0$U$_1$ | S$_4$S$_2$ | S$_4$S$_5$ | S$_4$U$_1$
        B $\rightarrow$ S$_7$S$_8$ | U$_2$S$_8$ | S$_7$S$_9$ | S$_7$U$_3$
        | U$_2$S$_9$ | U$_2$U$_3$ | U$_2$S$_6$
        C $\rightarrow$ S$_{11}$S$_{10}$ | S$_{11}$U$_5$ | U$_4$S$_{10}$ | U$_4$U$_5$
        S$_1$ $\rightarrow$ U$_0$B
        S$_2$ $\rightarrow$ AU$_1$
        S$_3$ $\rightarrow$ S$_2$A
        S$_4$ $\rightarrow$ U$_0$C
        S$_5$ $\rightarrow$ U$_1$A
        S$_6$ $\rightarrow$ BU$_3$
        S$_7$ $\rightarrow$ U$_2$C
        S$_8$ $\rightarrow$ S$_6$B
        S$_9$ $\rightarrow$ U$_3$B
        S$_{10}$ $\rightarrow$ U$_5$C
        S$_{11}$ $\rightarrow$ U$_4$C
        U$_0$ $\rightarrow$ {
        U$_1$ $\rightarrow$ }
        U$_2$ $\rightarrow$ [
        U$_3$ $\rightarrow$ ]
        U$_4$ $\rightarrow$ (
        U$_5$ $\rightarrow$ )
    \end{lstlisting}
\end{document}